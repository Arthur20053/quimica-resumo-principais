<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guia Interativo de Qu√≠mica Completo com Gemini</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Warm Neutrals -->
    <!-- Application Structure Plan: A tab-based single-page application. Each tab corresponds to one of the three main chemistry topics (Solu√ß√µes, Termoqu√≠mica, Org√¢nica). This structure was chosen to mirror the user's study plan ("Prova 1, 2, 3"), preventing information overload and allowing focused learning. Within each tab, every specific topic listed by the user has its own comprehensive article, containing: 1) A simple explanation with a numerical example. 2) Static easy/hard examples for foundational knowledge. 3) An interactive calculator/tool for hands-on practice. 4) A Gemini API button for deeper, on-demand exploration (new problems, real-world examples, etc.). A follow-up Q&A feature has been added, appearing after a problem is generated, allowing users to ask specific questions about it. This layered approach ensures core content is always present while offering advanced interactive features. The user's API key is now hardcoded directly into the script for maximum portability and zero setup. -->
    <!-- Visualization & Content Choices: 
        - Concentra√ß√£o Comum/Molar/Dilui√ß√£o: Goal: Teach and practice calculation. Method: Static text examples + Interactive forms (HTML/JS). Interaction: User inputs data, clicks 'calculate', sees result. Gemini generates new word problems in a "F√°cil/Dif√≠cil" format, and a follow-up Q&A input appears for clarification. Justification: Complete learning cycle from theory to practice to clarification, ensuring full comprehension.
        - Varia√ß√£o de Entalpia: Goal: Compare energy levels. Method: Bar chart (Chart.js) + static examples. Interaction: Toggle between exo/endothermic examples to see the chart change. Gemini provides real-world examples. Justification: Visual and contextual learning.
        - Lei de Hess: Goal: Demonstrate a complex process. Method: Static step-by-step text explanation of a canonical problem. Interaction: Gemini button to explain the strategic thinking behind solving Hess problems. Justification: Deconstructs the logic of a difficult topic.
        - Classifica√ß√£o de Cadeias: Goal: Test pattern recognition. Method: Static explanation + Interactive classifier. Interaction: User classifies a molecule and gets feedback. Gemini generates new molecules to classify. Justification: Reinforces rules through repeated, varied practice.
        - Alcanos: Goal: Show formula patterns. Method: Static explanation + Interactive slider. Interaction: User selects carbon count, sees formula/name. Gemini explains the uses of the generated alkane. Justification: Connects abstract structures to real-world relevance.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body { font-family: 'Inter', sans-serif; }
        .tab-btn { transition: all 0.3s ease; }
        .tab-btn.active { transform: translateY(-2px); box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1); }
        .content-section { display: none; }
        .content-section.active { display: block; }
        .interactive-card { background-color: rgba(249, 250, 251, 0.8); backdrop-filter: blur(10px); }
        .chart-container { position: relative; width: 100%; max-width: 500px; margin-left: auto; margin-right: auto; height: 300px; max-height: 350px; }
        .gemini-response { min-height: 100px; background-color: #F0F9FF; border-left: 4px solid #3B82F6; }
        .doubt-section { display: none; }
        .loader {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3498db;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
            margin: 1rem auto;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="bg-[#FDFBF6] text-[#3C3633]">

    <div class="container mx-auto max-w-6xl p-4 sm:p-6 lg:p-8">
        <header class="text-center mb-8">
            <h1 class="text-4xl font-bold text-[#E07A5F]">Guia Interativo de Qu√≠mica Completo üß™</h1>
            <p class="text-lg mt-2 text-[#3C3633]">Com explica√ß√µes, exemplos e o poder da IA ‚ú®</p>
            <p class="text-lg mt-2 text-[#3C3633]"> Criei este resumo com alguns dos t√≥picos mais importantes que eu, Arthur Malta, n√£o posso esquecer.</p>
        </header>
<p class="text-lg mt-1 text-[#3C3633]">               de um toque em cada assunto abaixo para alternar entre eles.</p>
        <nav id="tab-navigation" class="flex justify-center flex-wrap gap-2 sm:gap-4 mb-8">
            <button data-tab="quimica1" class="tab-btn active text-sm sm:text-base bg-[#81B29A] text-white font-semibold py-2 px-4 rounded-lg shadow-md">üíß Qu√≠mica 1: Solu√ß√µes</button>
            <button data-tab="quimica2" class="tab-btn text-sm sm:text-base bg-white text-[#3C3633] font-semibold py-2 px-4 rounded-lg shadow-md">üî• Qu√≠mica 2: Termoqu√≠mica</button>
            <button data-tab="quimica3" class="tab-btn text-sm sm:text-base bg-white text-[#3C3633] font-semibold py-2 px-4 rounded-lg shadow-md">üîó Qu√≠mica 3: Org√¢nica</button>
        </nav>

        <main>
            <!-- SE√á√ÉO QU√çMICA 1: SOLU√á√ïES -->
            <section id="quimica1" class="content-section active space-y-8">
                <!-- Concentra√ß√£o Comum -->
                <article class="p-6 bg-white rounded-xl shadow-lg">
                    <h3 class="text-2xl font-bold mb-2 text-[#E07A5F]">1. Concentra√ß√£o Comum (C)</h3>
                    <div class="p-4 mb-4 bg-blue-50 border-l-4 border-blue-300 rounded-r-lg">
                        <h4 class="font-bold text-blue-800">O que √© isso? (Explica√ß√£o simples)</h4>
                        <p class="mt-1 text-blue-900">Pense num suco de pozinho. A "concentra√ß√£o" √© o qu√£o forte o suco ficou. A Concentra√ß√£o Comum mede a quantidade de p√≥ (massa) em um certo volume de suco. <br><b>Exemplo pr√°tico:</b> Se voc√™ tem <strong>10g</strong> de p√≥ (m=10g) e faz <strong>2L</strong> de suco (V=2L), a conta √© `C = 10 / 2 = 5 g/L`. Cada litro do seu suco tem 5 gramas do p√≥.</p>
                    </div>
                    <div class="mb-4 font-mono text-center bg-gray-100 p-2 rounded-md">
                        <p><b>F√≥rmula:</b> C = m / V</p>
                        <p class="text-xs text-gray-600"><i><b>Legenda:</b><br><b>C</b> = Concentra√ß√£o, medida em gramas por litro (g/L)<br><b>m</b> = massa do p√≥, medida em gramas (g)<br><b>V</b> = volume do suco, medido em litros (L)</i></p>
                    </div>
                    <div class="grid md:grid-cols-2 gap-6 mb-6">
                        <div class="bg-green-50 p-4 rounded-lg border border-green-200">
                            <h4 class="font-semibold text-lg mb-2">Quest√£o F√°cil</h4>
                            <p class="text-sm mb-2">Se voc√™ dissolve 20g de sal em 2L de √°gua, qual a concentra√ß√£o?</p>
                            <p class="text-sm"><b>Passos:</b> C = 20g / 2L</p>
                            <p class="font-bold mt-2"><b>Resultado:</b> 10 g/L</p>
                        </div>
                        <div class="bg-amber-50 p-4 rounded-lg border border-amber-200">
                            <h4 class="font-semibold text-lg mb-2">Quest√£o Dif√≠cil</h4>
                            <p class="text-sm mb-2">Quantos gramas de a√ß√∫car s√£o necess√°rios para 500mL de solu√ß√£o a 40 g/L?</p>
                            <p class="text-sm"><b>Passos:</b> Primeiro, 500mL = 0,5L. Depois, m = C √ó V = 40 √ó 0,5.</p>
                            <p class="font-bold mt-2"><b>Resultado:</b> 20 gramas</p>
                        </div>
                    </div>
                    <div class="p-4 border-t-2 border-dashed border-gray-200">
                        <h4 class="font-semibold text-lg mb-2 text-center">Pratique voc√™ mesmo!</h4>
                        <div class="interactive-card border border-gray-200 rounded-lg p-4 mb-6">
                            <h4 class="font-semibold text-lg mb-2">Calculadora de Concentra√ß√£o Comum</h4>
                            <div class="space-y-3">
                                <div>
                                    <label for="cc-massa" class="block text-sm font-medium">Massa (m) em gramas:</label>
                                    <input type="number" id="cc-massa" placeholder="ex: 20" class="w-full mt-1 p-2 border rounded-md">
                                </div>
                                <div>
                                    <label for="cc-volume" class="block text-sm font-medium">Volume (V) em litros:</label>
                                    <input type="number" id="cc-volume" placeholder="ex: 2" class="w-full mt-1 p-2 border rounded-md">
                                </div>
                                <button id="btn-calc-cc" class="w-full bg-[#E07A5F] text-white font-bold py-2 px-4 rounded-lg hover:bg-opacity-90">Calcular</button>
                            </div>
                            <div id="res-cc" class="mt-4 text-center font-semibold text-lg h-8"></div>
                        </div>
                        <button id="btn-gemini-cc" class="w-full mb-4 bg-blue-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-600">‚ú® Pe√ßa um novo problema √† IA</button>
                        <div id="gemini-res-cc" class="gemini-response p-4 rounded-md text-sm"></div>
                        <div id="doubt-section-cc" class="doubt-section mt-4">
                            <h4 class="font-semibold text-lg mb-2">Ficou com alguma d√∫vida sobre o problema acima?</h4>
                            <textarea id="doubt-input-cc" class="w-full p-2 border rounded-md" rows="3" placeholder="Digite aqui sua pergunta sobre o problema ou a resolu√ß√£o..."></textarea>
                            <button id="btn-doubt-cc" class="w-full mt-2 bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700">Tirar D√∫vida</button>
                            <div id="gemini-res-doubt-cc" class="gemini-response p-4 mt-4 rounded-md text-sm"></div>
                        </div>
                    </div>
                </article>

                <!-- Concentra√ß√£o Molar -->
                <article class="p-6 bg-white rounded-xl shadow-lg">
                    <h3 class="text-2xl font-bold mb-2 text-[#E07A5F]">2. Concentra√ß√£o Molar (M)</h3>
                    <div class="p-4 mb-4 bg-blue-50 border-l-4 border-blue-300 rounded-r-lg">
                        <h4 class="font-bold text-blue-800">O que √© isso? (Explica√ß√£o simples)</h4>
                        <p class="mt-1 text-blue-900">Imagine que, em vez de pesar o p√≥ do suco, voc√™ contasse ele em "pacotinhos". O "mol" √© esse pacotinho. A Molaridade √© a quantidade de <strong>pacotinhos (mols)</strong> de p√≥ em um certo volume de suco (em litros). <br><b>Exemplo pr√°tico:</b> Se voc√™ tem <strong>2 pacotinhos</strong> (n=2 mols) e faz <strong>0.5L</strong> de solu√ß√£o (V=0.5L), a conta √© `M = 2 / 0.5 = 4 mol/L`.</p>
                    </div>
                    <div class="mb-4 font-mono text-center bg-gray-100 p-2 rounded-md">
                        <p><b>F√≥rmula:</b> M = n / V</p>
                        <p class="text-xs text-gray-600"><i><b>Legenda:</b><br><b>M</b> = Molaridade, medida em mols por litro (mol/L)<br><b>n</b> = n¬∫ de mols (os "pacotinhos"), medido em mol<br><b>V</b> = volume da solu√ß√£o, medido em litros (L)</i></p>
                    </div>
                    <div class="grid md:grid-cols-2 gap-6 mb-6">
                        <div class="bg-green-50 p-4 rounded-lg border border-green-200">
                            <h4 class="font-semibold text-lg mb-2">Quest√£o F√°cil</h4>
                            <p class="text-sm mb-2">Qual a molaridade de 2L de solu√ß√£o com 2 mols de NaOH?</p>
                            <p class="text-sm"><b>Passos:</b> M = 2 mol / 2 L</p>
                            <p class="font-bold mt-2"><b>Resultado:</b> 1 mol/L</p>
                        </div>
                        <div class="bg-amber-50 p-4 rounded-lg border border-amber-200">
                            <h4 class="font-semibold text-lg mb-2">Quest√£o Dif√≠cil</h4>
                            <p class="text-sm mb-2">Qual a molaridade de 111g de CaCl‚ÇÇ (MM=111g/mol) em 500mL de solu√ß√£o?</p>
                            <p class="text-sm"><b>Passos:</b> n = 111/111 = 1 mol. V = 0,5L. M = 1 mol / 0,5L.</p>
                            <p class="font-bold mt-2"><b>Resultado:</b> 2 mol/L</p>
                        </div>
                    </div>
                     <div class="p-4 border-t-2 border-dashed border-gray-200">
                        <h4 class="font-semibold text-lg mb-2 text-center">Pratique voc√™ mesmo!</h4>
                        <div class="interactive-card border border-gray-200 rounded-lg p-4 mb-6">
                            <h4 class="font-semibold text-lg mb-2">Calculadora de Molaridade</h4>
                             <div class="space-y-3">
                                <div>
                                    <label for="cm-mols" class="block text-sm font-medium">N¬∫ de mols (n):</label>
                                    <input type="number" id="cm-mols" placeholder="ex: 1" class="w-full mt-1 p-2 border rounded-md">
                                </div>
                                <div>
                                    <label for="cm-volume" class="block text-sm font-medium">Volume (V) em litros:</label>
                                    <input type="number" id="cm-volume" placeholder="ex: 0.5" class="w-full mt-1 p-2 border rounded-md">
                                </div>
                                <button id="btn-calc-cm" class="w-full bg-[#E07A5F] text-white font-bold py-2 px-4 rounded-lg hover:bg-opacity-90">Calcular</button>
                            </div>
                            <div id="res-cm" class="mt-4 text-center font-semibold text-lg h-8"></div>
                        </div>
                        <button id="btn-gemini-cm" class="w-full mb-4 bg-blue-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-600">‚ú® Pe√ßa um novo problema √† IA</button>
                        <div id="gemini-res-cm" class="gemini-response p-4 rounded-md text-sm"></div>
                        <div id="doubt-section-cm" class="doubt-section mt-4">
                            <h4 class="font-semibold text-lg mb-2">Ficou com alguma d√∫vida sobre o problema acima?</h4>
                            <textarea id="doubt-input-cm" class="w-full p-2 border rounded-md" rows="3" placeholder="Digite aqui sua pergunta sobre o problema ou a resolu√ß√£o..."></textarea>
                            <button id="btn-doubt-cm" class="w-full mt-2 bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700">Tirar D√∫vida</button>
                            <div id="gemini-res-doubt-cm" class="gemini-response p-4 mt-4 rounded-md text-sm"></div>
                        </div>
                    </div>
                </article>

                <!-- Dilui√ß√£o -->
                <article class="p-6 bg-white rounded-xl shadow-lg">
                    <h3 class="text-2xl font-bold mb-2 text-[#E07A5F]">3. Dilui√ß√£o</h3>
                    <div class="p-4 mb-4 bg-blue-50 border-l-4 border-blue-300 rounded-r-lg">
                        <h4 class="font-bold text-blue-800">O que √© isso? (Explica√ß√£o simples)</h4>
                        <p class="mt-1 text-blue-900">Diluir √© pegar uma solu√ß√£o concentrada e <strong>adicionar mais solvente</strong> (geralmente √°gua) para deix√°-la mais fraca. A quantidade de soluto n√£o muda, s√≥ o volume total que aumenta. <br><b>Exemplo pr√°tico:</b> Se voc√™ tem <strong>0.1L</strong> (V‚ÇÅ) de um suco forte com concentra√ß√£o <strong>10 g/L</strong> (C‚ÇÅ) e adiciona √°gua at√© ter <strong>0.2L</strong> (V‚ÇÇ), a nova concentra√ß√£o (C‚ÇÇ) ser√° `10 √ó 0.1 = C‚ÇÇ √ó 0.2`, ent√£o `C‚ÇÇ = 5 g/L`.</p>
                    </div>
                    <div class="mb-4 font-mono text-center bg-gray-100 p-2 rounded-md">
                        <p><b>F√≥rmula:</b> C‚ÇÅV‚ÇÅ = C‚ÇÇV‚ÇÇ</p>
                        <p class="text-xs text-gray-600"><i><b>Legenda:</b><br><b>C‚ÇÅ</b> e <b>V‚ÇÅ</b> = Concentra√ß√£o e Volume iniciais (antes de diluir)<br><b>C‚ÇÇ</b> e <b>V‚ÇÇ</b> = Concentra√ß√£o e Volume finais (depois de diluir)</i></p>
                    </div>
                    <div class="grid md:grid-cols-2 gap-6 mb-6">
                        <div class="bg-green-50 p-4 rounded-lg border border-green-200">
                            <h4 class="font-semibold text-lg mb-2">Quest√£o F√°cil</h4>
                            <p class="text-sm mb-2">Voc√™ tem 100mL (0,1L) de solu√ß√£o 5 mol/L. Dilui para 1L. Qual a nova concentra√ß√£o?</p>
                            <p class="text-sm"><b>Passos:</b> 5 √ó 0,1 = C‚ÇÇ √ó 1</p>
                            <p class="font-bold mt-2"><b>Resultado:</b> C‚ÇÇ = 0,5 mol/L</p>
                        </div>
                        <div class="bg-amber-50 p-4 rounded-lg border border-amber-200">
                            <h4 class="font-semibold text-lg mb-2">Quest√£o Dif√≠cil</h4>
                            <p class="text-sm mb-2">Quanto de √°gua adicionar a 50mL de solu√ß√£o 100g/L para a concentra√ß√£o virar 20g/L?</p>
                            <p class="text-sm"><b>Passos:</b> 100 √ó 50 = 20 √ó V‚ÇÇ ‚Üí V‚ÇÇ=250mL. √Ågua = 250 - 50.</p>
                            <p class="font-bold mt-2"><b>Resultado:</b> 200 mL</p>
                        </div>
                    </div>
                     <div class="p-4 border-t-2 border-dashed border-gray-200">
                        <h4 class="font-semibold text-lg mb-2 text-center">Pratique voc√™ mesmo!</h4>
                        <div class="interactive-card border border-gray-200 rounded-lg p-4 mb-6">
                            <h4 class="font-semibold text-lg mb-2">Calculadora de Dilui√ß√£o (achar C‚ÇÇ)</h4>
                             <div class="space-y-3">
                                <div>
                                    <label for="d-c1" class="block text-sm font-medium">Concentra√ß√£o Inicial (C‚ÇÅ):</label>
                                    <input type="number" id="d-c1" placeholder="ex: 10" class="w-full mt-1 p-2 border rounded-md">
                                </div>
                                <div>
                                    <label for="d-v1" class="block text-sm font-medium">Volume Inicial (V‚ÇÅ):</label>
                                    <input type="number" id="d-v1" placeholder="ex: 50" class="w-full mt-1 p-2 border rounded-md">
                                </div>
                                 <div>
                                    <label for="d-v2" class="block text-sm font-medium">Volume Final (V‚ÇÇ):</label>
                                    <input type="number" id="d-v2" placeholder="ex: 250" class="w-full mt-1 p-2 border rounded-md">
                                </div>
                                <button id="btn-calc-d" class="w-full bg-[#E07A5F] text-white font-bold py-2 px-4 rounded-lg hover:bg-opacity-90">Calcular</button>
                            </div>
                            <div id="res-d" class="mt-4 text-center font-semibold text-lg h-8"></div>
                        </div>
                        <button id="btn-gemini-diluicao" class="w-full mb-4 bg-blue-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-600">‚ú® Pe√ßa um novo problema √† IA</button>
                        <div id="gemini-res-diluicao" class="gemini-response p-4 rounded-md text-sm"></div>
                        <div id="doubt-section-diluicao" class="doubt-section mt-4">
                            <h4 class="font-semibold text-lg mb-2">Ficou com alguma d√∫vida sobre o problema acima?</h4>
                            <textarea id="doubt-input-diluicao" class="w-full p-2 border rounded-md" rows="3" placeholder="Digite aqui sua pergunta sobre o problema ou a resolu√ß√£o..."></textarea>
                            <button id="btn-doubt-diluicao" class="w-full mt-2 bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700">Tirar D√∫vida</button>
                            <div id="gemini-res-doubt-diluicao" class="gemini-response p-4 mt-4 rounded-md text-sm"></div>
                        </div>
                    </div>
                </article>
            </section>

            <!-- SE√á√ÉO QU√çMICA 2: TERMOQU√çMICA -->
            <section id="quimica2" class="content-section space-y-8">
                <!-- Varia√ß√£o de Entalpia -->
                <article class="p-6 bg-white rounded-xl shadow-lg">
                    <h3 class="text-2xl font-bold mb-2 text-[#E07A5F]">1. Varia√ß√£o de Entalpia (ŒîH)</h3>
                    <div class="p-4 mb-4 bg-blue-50 border-l-4 border-blue-300 rounded-r-lg">
                        <h4 class="font-bold text-blue-800">O que √© isso? (Explica√ß√£o simples)</h4>
                        <p class="mt-1 text-blue-900">√â o calor liberado ou absorvido numa rea√ß√£o. Se os ingredientes (reagentes) tinham energia <strong>100</strong> e o produto final tem energia <strong>20</strong>, a varia√ß√£o foi `ŒîH = 20 - 100 = -80`. Como o resultado √© negativo, a rea√ß√£o liberou 80 de energia (esquentou!) e √© <strong>exot√©rmica</strong>. Se fosse o contr√°rio, seria <strong>endot√©rmica</strong>.</p>
                    </div>
                    <div class="mb-4 font-mono text-center bg-gray-100 p-2 rounded-md">
                        <p><b>F√≥rmula:</b> ŒîH = H<sub>produtos</sub> - H<sub>reagentes</sub></p>
                        <p class="text-xs text-gray-600"><i><b>Legenda:</b><br><b>ŒîH</b> = Varia√ß√£o da Entalpia (o calor total da rea√ß√£o)<br><b>H</b> = Entalpia (a energia guardada na subst√¢ncia)</i></p>
                    </div>
                    <div class="chart-container mx-auto mb-4">
                        <canvas id="entalpiaChart"></canvas>
                    </div>
                    <div class="flex justify-center gap-4 mt-4">
                        <button id="btn-exotermica" class="bg-red-500 text-white font-bold py-2 px-4 rounded-lg">Ver Exemplo Exot√©rmico</button>
                        <button id="btn-endotermica" class="bg-blue-500 text-white font-bold py-2 px-4 rounded-lg">Ver Exemplo Endot√©rmico</button>
                    </div>
                     <div class="p-4 mt-6 border-t-2 border-dashed border-gray-200">
                        <h4 class="font-semibold text-lg mb-2 text-center">Entenda na pr√°tica!</h4>
                        <button id="btn-gemini-termo" class="w-full mb-4 bg-blue-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-600">‚ú® Me d√™ exemplos do dia a dia</button>
                        <div id="gemini-res-termo" class="gemini-response p-4 rounded-md text-sm"></div>
                    </div>
                </article>

                <!-- Lei de Hess -->
                <article class="p-6 bg-white rounded-xl shadow-lg">
                    <h3 class="text-2xl font-bold mb-2 text-[#E07A5F]">2. Lei de Hess</h3>
                    <div class="p-4 mb-4 bg-blue-50 border-l-4 border-blue-300 rounded-r-lg">
                        <h4 class="font-bold text-blue-800">O que √© isso? (Explica√ß√£o simples)</h4>
                        <p class="mt-1 text-blue-900">Imagine que voc√™ quer saber a altura de um pr√©dio, mas n√£o consegue medir de uma vez. Por√©m, voc√™ sabe a altura de cada andar. O que voc√™ faz? <strong>Soma a altura de todos os andares!</strong> A Lei de Hess √© isso: permite calcular o calor de uma rea√ß√£o somando o calor de outras rea√ß√µes que, juntas, formam a rea√ß√£o que voc√™ quer.</p>
                    </div>
                    <div class="bg-amber-50 p-4 rounded-lg border border-amber-200">
                        <h4 class="font-semibold text-lg mb-2">Exemplo Cl√°ssico: C(grafite) + 2H‚ÇÇ(g) ‚Üí CH‚ÇÑ(g)</h4>
                        <p class="text-sm">Para resolver, usamos 3 rea√ß√µes conhecidas:</p>
                        <ul class="text-xs list-disc list-inside my-2 space-y-1 font-mono">
                            <li>I) C + O‚ÇÇ ‚Üí CO‚ÇÇ (ŒîH = -394 kJ)</li>
                            <li>II) H‚ÇÇ + ¬ΩO‚ÇÇ ‚Üí H‚ÇÇO (ŒîH = -286 kJ)</li>
                            <li>III) CH‚ÇÑ + 2O‚ÇÇ ‚Üí CO‚ÇÇ + 2H‚ÇÇO (ŒîH = -890 kJ)</li>
                        </ul>
                        <p class="text-sm"><b>Estrat√©gia:</b> Mantemos a I, multiplicamos a II por 2, e invertemos a III. Somando tudo, chegamos ao ŒîH final de <b>-76 kJ</b>.</p>
                    </div>
                    <div class="p-4 mt-6 border-t-2 border-dashed border-gray-200">
                        <h4 class="font-semibold text-lg mb-2 text-center">Pe√ßa ajuda ao mestre!</h4>
                        <button id="btn-gemini-hess" class="w-full mb-4 bg-blue-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-600">‚ú® IA, me explique a estrat√©gia para resolver Lei de Hess</button>
                        <div id="gemini-res-hess" class="gemini-response p-4 rounded-md text-sm"></div>
                    </div>
                </article>
            </section>

            <!-- SE√á√ÉO QU√çMICA 3: ORG√ÇNICA -->
            <section id="quimica3" class="content-section space-y-8">
                <!-- Classifica√ß√£o de Cadeias -->
                <article class="p-6 bg-white rounded-xl shadow-lg">
                    <h3 class="text-2xl font-bold mb-2 text-[#E07A5F]">1. Classifica√ß√£o das Cadeias Carb√¥nicas</h3>
                     <div class="p-4 mb-4 bg-blue-50 border-l-4 border-blue-300 rounded-r-lg">
                        <h4 class="font-bold text-blue-800">O que √© isso? (Explica√ß√£o simples)</h4>
                        <p class="mt-1 text-blue-900">Imagine que a cadeia de carbono √© um trem de LEGO. N√≥s olhamos para ele e dizemos se: √© uma fila com come√ßo e fim (<strong>Aberta</strong>) ou um c√≠rculo (<strong>Fechada</strong>); se √© uma fila retinha (<strong>Normal</strong>) ou tem pe√ßas para os lados (<strong>Ramificada</strong>); se as pe√ßas s√≥ se ligam com uma m√£ozinha (<strong>Saturada</strong>) ou com duas/tr√™s (<strong>Insaturada</strong>); e se no meio do trem s√≥ tem pe√ßas de carbono (<strong>Homog√™nea</strong>) ou tem uma pe√ßa de outra cor (<strong>Heterog√™nea</strong>).</p>
                    </div>
                    <div class="bg-amber-50 p-4 rounded-lg border border-amber-200 mb-6">
                        <h4 class="font-semibold text-lg mb-2">Exemplo: CH‚ÇÉ‚ÄîCH‚ÇÇ‚ÄîO‚ÄîCH‚ÇÉ</h4>
                        <p class="text-sm">Esta cadeia √©: <b>Aberta</b>, <b>Normal</b>, <b>Saturada</b> e <b>Heterog√™nea</b> (por causa do 'O' entre os carbonos).</p>
                    </div>
                    <div class="p-4 border-t-2 border-dashed border-gray-200">
                        <h4 class="font-semibold text-lg mb-2 text-center">Teste seus conhecimentos!</h4>
                        <button id="btn-gemini-cadeia" class="w-full mb-4 bg-blue-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-600">‚ú® IA, me d√™ uma cadeia para classificar (com resposta)</button>
                        <div id="gemini-res-cadeia" class="gemini-response p-4 rounded-md text-sm"></div>
                    </div>
                </article>

                <!-- Alcanos -->
                <article class="p-6 bg-white rounded-xl shadow-lg">
                    <h3 class="text-2xl font-bold mb-2 text-[#E07A5F]">2. Alcanos</h3>
                    <div class="p-4 mb-4 bg-blue-50 border-l-4 border-blue-300 rounded-r-lg">
                        <h4 class="font-bold text-blue-800">O que √© isso? (Explica√ß√£o simples)</h4>
                        <p class="mt-1 text-blue-900">Os Alcanos s√£o a fam√≠lia mais simples da qu√≠mica org√¢nica. Para ser um alcano, a mol√©cula precisa ser uma cadeia <strong>Aberta</strong>, <strong>Saturada</strong> (s√≥ liga√ß√µes simples entre carbonos), e ser um <strong>Hidrocarboneto</strong> (s√≥ ter Carbono e Hidrog√™nio). <br><b>Exemplo pr√°tico:</b> Se um alcano tem <strong>3 carbonos</strong> (n=3), a f√≥rmula diz que ele ter√° `2√ó3 + 2 = 8` hidrog√™nios. Sua f√≥rmula ser√° `C‚ÇÉH‚Çà`.</p>
                    </div>
                    <div class="mb-4 font-mono text-center bg-gray-100 p-2 rounded-md">
                        <p><b>F√≥rmula Geral:</b> C<sub>n</sub>H<sub>2n+2</sub></p>
                        <p class="text-xs text-gray-600"><i><b>Legenda:</b><br><b>n</b> = o n√∫mero de √°tomos de Carbono na mol√©cula</i></p>
                    </div>
                    <div class="grid md:grid-cols-2 gap-6 mb-6">
                        <div class="bg-green-50 p-4 rounded-lg border border-green-200">
                            <h4 class="font-semibold text-lg mb-2">Gerador de Alcanos</h4>
                            <label for="alcano-carbonos" class="block text-sm font-medium">N√∫mero de Carbonos (n): <span id="alcano-slider-value" class="font-bold">4</span></label>
                            <input type="range" id="alcano-carbonos" min="1" max="10" value="4" class="w-full mt-1">
                            <div id="res-alcano" class="mt-2 text-center font-semibold text-lg h-16"></div>
                        </div>
                        <div class="bg-amber-50 p-4 rounded-lg border border-amber-200">
                            <h4 class="font-semibold text-lg mb-2">Quest√£o Dif√≠cil</h4>
                            <p class="text-sm mb-2">Um alcano tem 10 hidrog√™nios. Qual sua f√≥rmula?</p>
                            <p class="text-sm"><b>Passos:</b> 2n+2 = 10  ‚Üí  2n = 8  ‚Üí  n = 4.</p>
                            <p class="font-bold mt-2"><b>Resultado:</b> C‚ÇÑH‚ÇÅ‚ÇÄ (Butano)</p>
                        </div>
                    </div>
                    <div class="p-4 border-t-2 border-dashed border-gray-200">
                        <h4 class="font-semibold text-lg mb-2 text-center">Para que serve?</h4>
                        <button id="btn-gemini-alcano" class="w-full mb-4 bg-blue-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-600">‚ú® IA, me diga os usos do alcano selecionado</button>
                        <div id="gemini-res-alcano" class="gemini-response p-4 rounded-md text-sm"></div>
                    </div>
                </article>
            </section>
        </main>
    </div>

<script>
document.addEventListener('DOMContentLoaded', () => {

    // Gemini API Caller
    async function callGemini(prompt) {
        const apiKey = "AIzaSyC_Vvs8vOKMs9BcCaufPafJ2uzIYCJ1UYg"; // Chave da API integrada
        
        const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;
        
        const payload = {
            contents: [{ role: "user", parts: [{ text: prompt }] }]
        };

        try {
            const response = await fetch(apiUrl, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(payload)
            });

            if (!response.ok) {
                 const errorBody = await response.json();
                 console.error("API Error Body:", errorBody);
                 return `Erro na API: ${response.status}. Verifique se a chave API √© v√°lida e est√° habilitada. Detalhes: ${errorBody.error.message}`;
            }

            const result = await response.json();
            
            if (result.candidates && result.candidates.length > 0 &&
                result.candidates[0].content && result.candidates[0].content.parts &&
                result.candidates[0].content.parts.length > 0) {
                return result.candidates[0].content.parts[0].text;
            } else {
                if (result.candidates && result.candidates[0].finishReason === 'SAFETY') {
                    return "A resposta foi bloqueada por quest√µes de seguran√ßa. Tente um prompt diferente.";
                }
                return "N√£o foi poss√≠vel obter uma resposta do Gemini. A resposta pode estar vazia ou mal formatada.";
            }
        } catch (error) {
            console.error("Erro de comunica√ß√£o com a API do Gemini:", error);
            return "Ocorreu um erro de comunica√ß√£o. Verifique sua conex√£o com a internet e o console para mais detalhes.";
        }
    }

    function showLoader(element) {
        element.innerHTML = '<div class="loader"></div>';
    }

    // Tab Navigation
    const tabButtons = document.querySelectorAll('.tab-btn');
    const contentSections = document.querySelectorAll('.content-section');

    document.getElementById('tab-navigation').addEventListener('click', (e) => {
        if (e.target.tagName === 'BUTTON') {
            const tab = e.target.dataset.tab;

            tabButtons.forEach(btn => {
                btn.classList.remove('active', 'bg-[#81B29A]', 'text-white');
                btn.classList.add('bg-white', 'text-[#3C3633]');
            });
            e.target.classList.add('active', 'bg-[#81B29A]', 'text-white');
            e.target.classList.remove('bg-white', 'text-[#3C3633]');

            contentSections.forEach(section => {
                section.classList.remove('active');
                if (section.id === tab) {
                    section.classList.add('active');
                }
            });
        }
    });

    function setupDoubtSection(problemBtnId, problemResId, doubtSectionId, doubtInputId, doubtBtnId, doubtResId, promptGenerator) {
        const problemBtn = document.getElementById(problemBtnId);
        const problemResEl = document.getElementById(problemResId);
        const doubtSectionEl = document.getElementById(doubtSectionId);
        const doubtInputEl = document.getElementById(doubtInputId);
        const doubtBtn = document.getElementById(doubtBtnId);
        const doubtResEl = document.getElementById(doubtResId);

        problemBtn.addEventListener('click', async () => {
            showLoader(problemResEl);
            doubtSectionEl.style.display = 'none';
            doubtResEl.innerHTML = '';
            doubtInputEl.value = '';
            const response = await callGemini(promptGenerator());
            problemResEl.innerHTML = response.replace(/### (.*?)\n/g, '<h4 class="font-semibold text-lg my-2">$1</h4>').replace(/\n/g, '<br>');
            if (!response.startsWith("Erro")) {
                doubtSectionEl.style.display = 'block';
            }
        });

        doubtBtn.addEventListener('click', async () => {
            const userDoubt = doubtInputEl.value;
            const problemContext = problemResEl.innerText;
            if (!userDoubt.trim()) {
                doubtResEl.innerHTML = "Por favor, digite sua d√∫vida.";
                return;
            }
            showLoader(doubtResEl);
            const prompt = `Contexto: Um estudante est√° resolvendo o seguinte problema de qu√≠mica que voc√™ gerou: "${problemContext}". A d√∫vida espec√≠fica do estudante √©: "${userDoubt}". Por favor, responda a essa d√∫vida de forma clara, direta e focada na pergunta, como um professor faria.`;
            const response = await callGemini(prompt);
            doubtResEl.innerHTML = response.replace(/\n/g, '<br>');
        });
    }

    // --- QU√çMICA 1: SOLU√á√ïES ---
    document.getElementById('btn-calc-cc').addEventListener('click', () => {
        const m = parseFloat(document.getElementById('cc-massa').value);
        const V = parseFloat(document.getElementById('cc-volume').value);
        const resEl = document.getElementById('res-cc');
        if (!isNaN(m) && !isNaN(V) && V > 0) {
            const C = m / V;
            resEl.textContent = `C = ${C.toFixed(2)} g/L`;
        } else {
            resEl.textContent = 'Valores inv√°lidos.';
        }
    });

    document.getElementById('btn-calc-cm').addEventListener('click', () => {
        const n = parseFloat(document.getElementById('cm-mols').value);
        const V = parseFloat(document.getElementById('cm-volume').value);
        const resEl = document.getElementById('res-cm');
        if (!isNaN(n) && !isNaN(V) && V > 0) {
            const M = n / V;
            resEl.textContent = `M = ${M.toFixed(2)} mol/L`;
        } else {
            resEl.textContent = 'Valores inv√°lidos.';
        }
    });
    
    document.getElementById('btn-calc-d').addEventListener('click', () => {
        const c1 = parseFloat(document.getElementById('d-c1').value);
        const v1 = parseFloat(document.getElementById('d-v1').value);
        const v2 = parseFloat(document.getElementById('d-v2').value);
        const resEl = document.getElementById('res-d');
        if (!isNaN(c1) && !isNaN(v1) && !isNaN(v2) && v2 > 0) {
            const c2 = (c1 * v1) / v2;
            resEl.textContent = `C‚ÇÇ = ${c2.toFixed(2)}`;
        } else {
            resEl.textContent = 'Valores inv√°lidos.';
        }
    });

    setupDoubtSection(
        'btn-gemini-cc', 'gemini-res-cc', 'doubt-section-cc', 'doubt-input-cc', 'btn-doubt-cc', 'gemini-res-doubt-cc',
        () => "Crie dois novos e √∫nicos problemas de qu√≠mica sobre Concentra√ß√£o Comum (massa/volume) em portugu√™s. Seja criativo, usando valores, subst√¢ncias (como suco em p√≥, sal, medicamento) e contextos diferentes a cada vez. Formate a resposta exatamente assim: comece com '### Quest√£o F√°cil', seguido do enunciado, uma pequena legenda (ex: C=Concentra√ß√£o, m=massa, V=volume), passos e resultado. Depois, '### Quest√£o Dif√≠cil' com a mesma estrutura."
    );
    
    setupDoubtSection(
        'btn-gemini-cm', 'gemini-res-cm', 'doubt-section-cm', 'doubt-input-cm', 'btn-doubt-cm', 'gemini-res-doubt-cm',
        () => "Crie dois novos e √∫nicos problemas de qu√≠mica sobre Concentra√ß√£o Molar em portugu√™s. Seja criativo, usando valores, subst√¢ncias (como Glicose, Sacarose, NaCl) e contextos diferentes a cada vez. Formate a resposta exatamente assim: comece com '### Quest√£o F√°cil', seguido do enunciado, uma pequena legenda (ex: M=Molaridade, n=mols, V=volume), passos e resultado. Depois, '### Quest√£o Dif√≠cil' com a mesma estrutura."
    );

    setupDoubtSection(
        'btn-gemini-diluicao', 'gemini-res-diluicao', 'doubt-section-diluicao', 'doubt-input-diluicao', 'btn-doubt-diluicao', 'gemini-res-doubt-diluicao',
        () => "Crie dois novos e √∫nicos problemas de qu√≠mica sobre Dilui√ß√£o em portugu√™s. Seja criativo, usando valores, solu√ß√µes (como √°cido de bateria, suco concentrado, desinfetante) e contextos diferentes a cada vez. Formate a resposta exatamente assim: comece com '### Quest√£o F√°cil', seguido do enunciado, uma pequena legenda (ex: C1=Conc. inicial), passos e resultado para achar a concentra√ß√£o final. Depois, '### Quest√£o Dif√≠cil' com a mesma estrutura."
    );


    // --- QU√çMICA 2: TERMOQU√çMICA ---
    const ctx = document.getElementById('entalpiaChart').getContext('2d');
    let entalpiaChart;
    let currentThermoType = 'Exot√©rmica';

    function createOrUpdateChart(label, hReagentes, hProdutos) {
        currentThermoType = label.split(' ')[1];
        const deltaH = hProdutos - hReagentes;
        const data = {
            labels: ['Reagentes', 'Produtos'],
            datasets: [{
                label: 'N√≠vel de Energia (Entalpia)',
                data: [hReagentes, hProdutos],
                backgroundColor: ['#3B82F6', '#16A34A']
            }]
        };
        const config = {
            type: 'bar',
            data: data,
            options: {
                indexAxis: 'y',
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false },
                    title: { display: true, text: `${label}: ŒîH = ${deltaH.toFixed(0)} kJ` }
                }
            }
        };
        if (entalpiaChart) {
            entalpiaChart.data = data;
            entalpiaChart.options.plugins.title.text = `${label}: ŒîH = ${deltaH.toFixed(0)} kJ`;
            entalpiaChart.update();
        } else {
            entalpiaChart = new Chart(ctx, config);
        }
    }
    
    document.getElementById('btn-exotermica').addEventListener('click', () => createOrUpdateChart('Rea√ß√£o Exot√©rmica', 100, 20));
    document.getElementById('btn-endotermica').addEventListener('click', () => createOrUpdateChart('Rea√ß√£o Endot√©rmica', 50, 150));
    

    document.getElementById('btn-gemini-termo').addEventListener('click', async () => {
        const resEl = document.getElementById('gemini-res-termo');
        showLoader(resEl);
        const prompt = `D√™ 3 exemplos pr√°ticos e f√°ceis de entender de rea√ß√µes do tipo '${currentThermoType}' que acontecem no dia a dia. Explique brevemente cada um.`;
        const response = await callGemini(prompt);
        resEl.innerHTML = response.replace(/\n/g, '<br>');
    });

    document.getElementById('btn-gemini-hess').addEventListener('click', async () => {
        const resEl = document.getElementById('gemini-res-hess');
        showLoader(resEl);
        const prompt = "Explique em portugu√™s, como se fosse para um iniciante, a estrat√©gia passo a passo para resolver um problema de Lei de Hess. D√™ dicas sobre o que procurar na rea√ß√£o alvo e como manipular as equa√ß√µes de base.";
        const response = await callGemini(prompt);
        resEl.innerHTML = response.replace(/\n/g, '<br>');
    });

    // --- QU√çMICA 3: ORG√ÇNICA ---
    document.getElementById('btn-gemini-cadeia').addEventListener('click', async () => {
        const resEl = document.getElementById('gemini-res-cadeia');
        showLoader(resEl);
        const prompt = "Gere uma estrutura de uma cadeia carb√¥nica para eu classificar. Apresente a estrutura em formato de texto (ex: CH3-CH(CH3)-CH=CH2). Depois, forne√ßa a classifica√ß√£o completa (aberta/fechada, normal/ramificada, saturada/insaturada, homog√™nea/heterog√™nea) e explique o porqu√™ de cada classifica√ß√£o.";
        const response = await callGemini(prompt);
        resEl.innerHTML = response.replace(/\n/g, '<br>');
    });

    const alcanoInput = document.getElementById('alcano-carbonos');
    const alcanoSliderValue = document.getElementById('alcano-slider-value');
    const resAlcanoEl = document.getElementById('res-alcano');
    const alcanoNames = ["", "Metano", "Etano", "Propano", "Butano", "Pentano", "Hexano", "Heptano", "Octano", "Nonano", "Decano"];

    function updateAlcano() {
        const n = parseInt(alcanoInput.value);
        alcanoSliderValue.textContent = n;
        if (n >= 1 && n <= 10) {
            const h = 2 * n + 2;
            const name = alcanoNames[n];
            resAlcanoEl.innerHTML = `
                <p>F√≥rmula: <span class="font-bold">C${n}H${h}</span></p>
                <p>Nome: <span class="font-bold">${name}</span></p>
            `;
        }
    }
    alcanoInput.addEventListener('input', updateAlcano);
    

    document.getElementById('btn-gemini-alcano').addEventListener('click', async () => {
        const n = parseInt(alcanoInput.value);
        const name = alcanoNames[n];
        const resEl = document.getElementById('gemini-res-alcano');
        showLoader(resEl);
        const prompt = `Explique de forma simples e direta para que serve o ${name}. D√™ seus principais usos na ind√∫stria e no cotidiano.`;
        const response = await callGemini(prompt);
        resEl.innerHTML = response.replace(/\n/g, '<br>');
    });

    // Initial calls on page load
    createOrUpdateChart('Rea√ß√£o Exot√©rmica', 100, 20);
    updateAlcano();
});
</script>

</body>
</html>




